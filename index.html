<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Reactive Spring Security Workshop</title>
        <meta name="description" content="Authentication in Angular with OAuth2/OIDC">
        <meta name="author" content="Andreas Falk">

        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

        <link rel="icon" href="images/cropped-novatec-favicon-32x32.png" sizes="32x32" />
        <link rel="icon" href="images/cropped-novatec-favicon-192x192.png" sizes="192x192" />

        <link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/novatec.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

                <!-- Introduction -->
                <section>
                    <section>
                        <h2>Reactive Spring Security Workshop</h2>
                        <p>
                            <small>
                            <a href="https://andifalk.github.io/spring-security-workshops">https://andifalk.github.io/spring-security-workshops</a>
                            </small>
                        </p>
                        <img src="images/novatec_logo_big.png" class="plain" width="20%">
                    </section>
                    <section data-background-color="white">
                        <img src="images/andreas_falk.jpg" class="plain" width="35%">
                        <h4>Andreas Falk</h4>
                        <small>
                            <p><strong>Novatec Consulting GmbH</strong></p>
                            </p>andreas.falk@novatec-gmbh.de / @andifalk (Twitter)<br>
                            <br><a href="https://www.novatec-gmbh.de/beratung/agile-security/">https://www.novatec-gmbh.de/beratung/agile-security</a><br>
                            <img src="images/novatec_logo_big.png" class="plain" width="40%">
                        </small>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Introduction</h2>
                    </section>
                    <section>
                        <h4>OWASP Top 10 2017</h4>
                        <img src="images/owasp_top_10_focus.png" class="plain" width="100%">
                        <p><small><a href="https://www.owasp.org/index.php/Top_10-2017_Top_10">https://www.owasp.org/index.php/Top_10-2017_Top_10</a></small></p>
                    </section>    
                    <section>
                        <h2>Workshop Steps</h2>
                    </section>
                    <section>
                        <h4>Library Service</h4>
                        <img src="images/workshop_lab_1.png" class="plain" width="100%">
                    </section>    
                    <section>
                        <h4>Library Service</h4>
                        <img src="images/workshop_lab_2.png" class="plain" width="100%">
                    </section>
                    <section>
                        <h4>Library Service</h4>
                        <img src="images/library_app_api.png" class="plain" width="100%">
                    </section>
    
                    <section>
                        <h2>Step 1: Authentication</h2>
                        <img src="images/workshop_lab_3.png" class="plain" width="100%">
                    </section>    

                    <section>
                        <h4>Basic Authentication</h4>
                        <img src="images/basic_auth.png" class="plain" width="100%">
                        <p><small><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication">https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication</a></small></p>
                    </section>
                    <section>
                        <h4>Form Based Login (Session-Cookie)</h4>
                        <img src="images/session_auth.png" class="plain" width="100%">
                        <p><small><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies#Session_cookies">https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies#Session_cookies</a></small></p>
                    </section>
    
                    <section>
                        <h4>Step 2: Custom Authentication</h4>
                        <img src="images/workshop_lab_4.png" class="plain" width="100%">
                    </section>    
                    <section>
                        <h4>Step 3: Authorization</h4>
                        <img src="images/workshop_lab_5.png" class="plain" width="100%">
                    </section>    
                    <section>
                        <h4>Step 4: Automated Security Tests</h4>
                        <img src="images/workshop_lab_6.png" class="plain" width="100%">
                    </section>    
                    <section>
                        <h4>Step 5: OAuth 2.0 & OpenID Connect</h4>
                        <img src="images/workshop_lab_7.png" class="plain" width="100%">
                    </section>    
                </section>

                <section>
                    <section>
                        <h1>Workshop Organisation</h1>
                    </section>
                    <section>
                        <h2>Reactive Spring Security Workshop </h2>
                        <p>Get via <em>git clone</em> or download as zip file:</p>
                        <p><a href="https://github.com/andifalk/reactive-spring-security-5-workshop">https://github.com/andifalk/reactive-spring-security-5-workshop</a></p>
                    </section>
                    <section>
                        <h2>Let's start...</h2>
                    </section>
                </section>
                
                <section>
                    <section>
                        <h2>OAuth 2.0 & OpenID Connect 1.0</h2>
                    </section>
                    <section>
                        <h1>OAuth 2.0</h1>
                        <p><small><a href="https://oauth.net/2/">https://oauth.net/2</a></small><br>
                        <small><a href="https://tools.ietf.org/html/rfc6749">https://tools.ietf.org/html/rfc6749</a></small></p>
                    </section>
                    <section>
                        <h2>What is OAuth 2.0?</h2>
                        <p>
                        An HTTP-based security protocol that allows users of a service to enable applications to
                        use that service on their behalf without handing over full control.
                        </p>
                        <img src="images/Valet_Ferrari.png" class="plain" width="45%">
                    </section>
                    <section>
                        <h3>OAuth 2.0 Model</h3>
                        <img src="images/oauth2_roles.png" class="plain">
                    </section>
                    <section data-transition="none">
                        <h3>OAuth 2.0 Grant Flows</h3>
                        <table>
                                <thead>
                                    <tr>
                                        <th>Client Type</th>
                                        <th>Flow</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Confidental</td>
                                        <td>Authorization Code</td>
                                    </tr>
                                    <tr>
                                        <td>Public (SPA)</td>
                                        <td>Implicit</td>
                                    </tr>
                                    <tr>
                                        <td>Public</td>
                                        <td>Authorization Code with PKCE</td>
                                    </tr>
                                    <tr>
                                        <td>Resource Owner</td>
                                        <td>Client Credentials</td>
                                    </tr>
                                    <tr style="text-decoration: line-through;">
                                        <td>Trusted / Supports no other flow</td>
                                        <td>Resource Owner Password Credentials</td>
                                    </tr>
                                </tbody>
                            </table>
                    </section>
            
                    <!-- Authorization Code Flow-->
                    <section>
                        <h2>Authorization Code Flow</h2>
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_1.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_2.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_3.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_4.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_5.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_6.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_7.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_8.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_9.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_10.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_11.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_12.png" class="plain" width="100%">
                    </section>
                    <section data-transition="none">
                        <h4>Authorization code grant flow</h4>
                        <img src="images/authorization_code_13.png" class="plain" width="100%">
                    </section>
                    <section>
                        <h4>Authorization Code Interception Attack</h4>
                        <img src="images/auth_code_attack.png" class="plain" width="75%">
                        <p><small><a href="https://tools.ietf.org/html/rfc7636">https://tools.ietf.org/html/rfc7636</a></small></p>
                    </section>
                    <section>
                        <h4>Authorization Code Grant Flow</h4>
                        <h4>Proof Key for Code Exchange (PKCE)</h4>
                        <img src="images/authorization_code_pkce.png" class="plain" width="75%">
                        <p><small><a href="https://tools.ietf.org/html/rfc7636">https://tools.ietf.org/html/rfc7636</a></small></p>
                    </section>
                    <section>
                        <h3>OpenID Connect is for Authentication</h3>
                        <img src="images/manico_tweet_oauth2_not_authentication.png" class="plain" width="100%">
                    </section>
                    <section>
                        <h3>OIDC Model</h3>
                        <img src="images/oidc_roles.png" class="plain" width="70%">
                    </section>
                    <section data-transition="none">
                        <h3>OIDC Flows</h3>
                        <ul>
                            <li>Authorization Code (with PKCE)</li>
                            <li>Implicit</li>
                            <li>Hybrid</li>
                        </ul>
                    </section>
                </section>

                <!-- The End -->
                <section>
                    <section>
                        <h2>References</h2>
                        <a href="https://www.amazon.de/OAuth-2-Action-Justin-Richer/dp/161729327X/ref=la_B0731GCPGT_1_1?s=books&ie=UTF8&qid=1549037795&sr=1-1"><img src="images/oauth2_in_action.jpg" class="plain" width="20%"></a>
                        <br>
                        <small>
                        <ul>
                        <li><a href="https://tools.ietf.org/html/rfc6749">RFC6749: OAuth 2.0 Authorization Framework</a></li>
                        <li><a href="https://tools.ietf.org/html/rfc7636">RFC7636: Proof Key for Code Exchange by OAuth Public Clients</a></li>
                        <li><a href="https://tools.ietf.org/html/draft-ietf-oauth-security-topics-11">OAuth 2.0 Security Best Current Practice (Draft)</a></li>
                        <li><a href="https://tools.ietf.org/html/draft-parecki-oauth-browser-based-apps-02">OAuth 2.0 for Browser-Based Apps (Draft)</a></li>
                        <li><a href="https://medium.com/oauth-2/why-you-should-stop-using-the-oauth-implicit-grant-2436ced1c926">Why you should stop using the OAuth implicit grant!</a></li>
                        <li><a href="https://brockallen.com/2019/01/03/the-state-of-the-implicit-flow-in-oauth2/">The State of the Implicit Flow in OAuth2</a></li>
                        <li><a href="https://auth0.com/blog/oauth2-implicit-grant-and-spa/">OAuth2 Implicit Grant and SPA</a></li>
                        <li><a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core Specification</a></li>
                        </ul>
                        <p>All images used are from <a href="https://pixabay.com/">Pixabay</a> and are published under <a href="http://creativecommons.org/publicdomain/zero/1.0/deed.en">Creative Commons CC0 license.</a></p>
                        All used logos are trademarks of respective companies
                    </small>
                    </section>
                    <section>
                        <h1>Q&A</h1>
                        <a href="https://www.novatec-gmbh.de/beratung/agile-security/">https://www.novatec-gmbh.de/beratung/agile-security</a></br>
                        <a href="https://blog.novatec-gmbh.de/">https://blog.novatec-gmbh.de</a><br>
                        andreas.falk@novatec-gmbh.de<br>
                        @andifalk<br>
                    </section>
                </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			Reveal.initialize({
                history: true,
                center: true,
                slideNumber: 'c/t',
                previewLinks: true,

                allottedTime: 30 * 60 * 1000, // 30 minutes

                transition: 'none', // none/fade/slide/convex/concave/zoom
				dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/print-pdf/print-pdf.js' },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/tagcloud/tagcloud.js', async: true },
                    { src: 'plugin/elapsed-time-bar/elapsed-time-bar.js'},
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() {
					    hljs.initHighlightingOnLoad(); }
					}
				]
			});
            Reveal.configure({ slideNumber: 'c/t' });
		</script>
	</body>
</html>
